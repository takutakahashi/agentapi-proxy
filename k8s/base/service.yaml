apiVersion: v1
kind: Service
metadata:
  name: agentapi-proxy
  namespace: default
  labels:
    app: agentapi-proxy
spec:
  type: ClusterIP
  ports:
  - name: http
    port: 8080
    targetPort: http
    protocol: TCP
  # Expose a range of ports for agentapi instances
  # Note: This is simplified - in practice, you might need a headless service
  # or NodePort/LoadBalancer for direct access to spawned instances
  - name: agentapi-base
    port: 9000
    targetPort: 9000
    protocol: TCP
  selector:
    app: agentapi-proxy